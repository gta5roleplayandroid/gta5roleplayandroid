<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ThinkMay Gate</title>

<style>
*{box-sizing:border-box;font-family:system-ui,Arial}
body{
  margin:0;
  background:#05060a;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.box{
  width:90%;
  max-width:360px;
  padding:20px;
  border-radius:18px;
  background:#0b0e17;
  box-shadow:0 0 25px #00ffff88;
  text-align:center;
}

input{
  width:100%;
  padding:13px;
  margin-top:10px;
  border-radius:12px;
  border:none;
  background:#12162a;
  color:#fff;
  text-align:center;
}

button{
  width:100%;
  padding:13px;
  margin-top:10px;
  border:none;
  border-radius:12px;
  background:linear-gradient(90deg,#00ffff,#ff00ff);
  font-weight:800;
  color:#000;
}

#msg{
  min-height:18px;
  margin-top:8px;
  font-size:13px;
  color:#ff6b6b;
}
</style>
</head>

<body>

<div class="box">
  <b>ThinkMay Access</b><br><br>
  <input id="tokenInput" placeholder="Masukkan Token Akses">
  <button onclick="login()">MASUK APLIKASI</button>
  <div id="msg"></div>
</div>

<script>
/* =========================
   CONFIG
========================= */
const API = "https://tokengta5.lmore000013.workers.dev";
const CLOUD_URL = "https://thinkmay.net";

/* =========================
   AUTO HIDE CURSOR
========================= */
(function(){
  let hidden = false;

  function hide(){
    if(hidden) return;
    document.documentElement.style.cursor = "none";
    document.body.style.cursor = "none";
    hidden = true;
  }

  function show(){
    document.documentElement.style.cursor = "";
    document.body.style.cursor = "";
    hidden = false;
  }

  // hide secepat mungkin
  hide();

  // jaga-jaga saat focus / blur
  window.addEventListener("blur", show);
  window.addEventListener("focus", hide);
})();

/* =========================
   TOKEN LOGIN
========================= */
function login(){
  const token = tokenInput.value.trim();
  if(!token){
    msg.innerText = "Masukkan token";
    return;
  }

  msg.innerText = "â³ Verifikasi token...";

  fetch(API,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ token })
  })
  .then(r=>r.json())
  .then(res=>{
    if(!res.ok){
      msg.innerText =
        res.msg==="EXPIRED" ? "â° Token habis" :
        res.msg==="USED" ? "ðŸš« Token sudah dipakai" :
        "âŒ Token salah";
      return;
    }

    // kasih delay dikit biar WebView siap
    setTimeout(()=>{
      location.replace(CLOUD_URL);
    }, 300);
  })
  .catch(()=>{
    msg.innerText="âš  Server error";
  });
}
</script>

</body>
</html>
